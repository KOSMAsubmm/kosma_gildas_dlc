!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
! SOFIA reduction tools
! Authors Christof Buchbender, Ronan Higgins
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!


begin procedure kosma-init-setup


if .not.exist(kosma) then

symbol verbose "sic message class s+i"
symbol quiet   "sic message class s-i"

!
define structure kosma /global
def char*100 kosma%is_string_found /global
def char*100 kosma%string_found  /global
def char*100 kosma%output_folder  /global
let kosma%output_folder "/tmp/"
def integer kosma%write_group_spectra  /global
let kosma%write_group_spectra 0
!
! Setup a new language and define the related commands
! Read the content of gag_doc wiith "sic logicals"
define language KOSMA gag_doc:hlp/kosma-help.hlp
define command kosma\glob "python kosma_py/file_list.py"
define command kosma\despike "python kosma_py/despike.py"
define command kosma\find_meta "python kosma_py/find_meta.py"
define command kosma\get_meta "python kosma_py/get_unique_header_values.py"
define command kosma\plot_unique "python kosma_py/plot_unique.py"
define command kosma\plot_group "python kosma_py/plot_group.py"
define command kosma\fft "python kosma_py/fft.py"
define command kosma\find_poly "python kosma_py/find_poly.py"
define command kosma\string_in "python kosma_py/string_in.py"
!
! script to generate and process pandas index
define command kosma\get_index "python kosma_py/get_index.py"
define command kosma\plot_index "python kosma_py/plot_index.py"
define command kosma\dummy "python kosma_py/dummy.py"
define command kosma\filter_index "python kosma_py/filter_index.py"
!
define command kosma\export "@kosma_py/export_spectra.class"
define command kosma\spline "python kosma_py/spline.py"

define command kosma\windows "@set_windows_from_map"
define command kosma\fft_focus "@fft_focus"
!
endif
!
end procedure kosma-init-setup
!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
! Loading all packages
!
@kosma_py/general_tools.class
@kosma-init-setup
